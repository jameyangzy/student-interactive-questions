<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Question</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <h2>Selected Category: <span id="categoryText"></span></h2>
    <img id="questionImage" src="" alt="Question Image" style="max-width: 100%; height: auto;">
    
    <h3 id="questionText"></h3>

    <div class="pyramid-container">
        <!-- 这里是动态填充金字塔的地方 -->
        <div class="row">
            <div class="box highlight">280</div>
        </div>
        <div class="row">
            <div class="box highlight">75</div>
            <div class="box"><input type="text"></div>
        </div>
        <div class="row">
            <div class="box highlight">31</div>
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
        </div>
        <div class="row">
            <div class="box">10</div>
            <div class="box highlight">13</div>
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
        </div>
        <div class="row">
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
            <div class="box"><input type="text"></div>
        </div>
    </div>

    <div class="hint-section">
        <button onclick="showHint()">Hint</button>
        <ul id="hintList" class="hidden"></ul>
    </div>

    <div class="button-section">
        <button onclick="goBack()">Return</button>
        <button onclick="submitAnswer()">Submit</button>
    </div>
</div>

<script>
    const questionData = {
        A: [
            { image: "img/A/a1.png", text: "Solve A1", hints: ["Hint 1 for A1", "Hint 2 for A1"] },
            { image: "img/A/a2.png", text: "Solve A2", hints: ["Hint 1 for A2", "Hint 2 for A2"] },
            { image: "img/A/a3.png", text: "Solve A3", hints: ["Hint 1 for A3", "Hint 2 for A3"] }
        ],
        B: [
            { image: "img/B/b1.png", text: "Solve B1", hints: ["Hint 1 for B1", "Hint 2 for B1"] },
            { image: "img/B/b2.png", text: "Solve B2", hints: ["Hint 1 for B2", "Hint 2 for B2"] }
        ],
        C: [
            { image: "img/C/c1.png", text: "Solve C1", hints: ["Hint 1 for C1", "Hint 2 for C1"] }
        ]
    };

    function getQueryParam(param) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(param);
    }

    function loadQuestion() {
        const category = getQueryParam("category");
        const questionIndex = parseInt(getQueryParam("question")) - 1;
        document.getElementById("categoryText").innerText = category;

        if (questionData[category] && questionData[category][questionIndex]) {
            const q = questionData[category][questionIndex];
            document.getElementById("questionImage").src = q.image;
            document.getElementById("questionText").innerText = q.text;
            document.getElementById("hintList").innerHTML = q.hints.map(hint => `<li>${hint}</li>`).join("");
        }
    }

    function showHint() {
        document.getElementById("hintList").classList.toggle("hidden");
    }

    function goBack() {
        window.location.href = "introduction.html";
    }

    function submitAnswer() {
        alert("Answer submitted!");
    }

    window.onload = loadQuestion;
</script>
</body>
</html>
